<datasource-http-settings current="ctrl.current">
</datasource-http-settings>

<div class="gf-form-group">
  <h3 class="page-heading">Zabbix API details</h3>

  <div class="gf-form">
    <span class="gf-form-label width-7">
      Username
    </span>
    <input class="gf-form-input max-width-21"
           type="text"
           ng-model='ctrl.current.jsonData.username'
           placeholder="user"
           required>
    </input>
  </div>

  <div class="gf-form">
    <span class="gf-form-label width-7">
      Password
    </span>
    <input class="gf-form-input max-width-21"
           type="password"
           ng-model='ctrl.current.jsonData.password'
           placeholder="password">
    </input>
  </div>

  <div class="gf-form-inline">
    <div class="gf-form">
      <label class="gf-form-label width-7">Trends</label>
    </div>
    <gf-form-switch class="gf-form" label-class="width-5"
      label="Enable"
      checked="ctrl.current.jsonData.trends"
      switch-class="max-width-6">
    </gf-form-switch>
    <div class="gf-form" ng-if="ctrl.current.jsonData.trends">
      <span class="gf-form-label width-7">
        Use from
      </span>
      <input class="gf-form-input max-width-5"
             type="text"
             ng-model='ctrl.current.jsonData.trendsFrom'
             placeholder="7d">
      </input>
    </div>
  </div>

  <div class="gf-form">
    <span class="gf-form-label width-12">
      Cache update interval
    </span>
    <input class="gf-form-input max-width-4"
           type="text"
           ng-model='ctrl.current.jsonData.cacheTTL'
           placeholder="1h">
    </input>
  </div>
</div>

<div class="gf-form-group">
  <h3 class="page-heading">Alerting</h3>
  <gf-form-switch class="gf-form" label-class="width-8"
    label="Enable alerting"
    checked="ctrl.current.jsonData.alerting">
  </gf-form-switch>
  <gf-form-switch class="gf-form" label-class="width-8"
    label="Add thresholds"
    checked="ctrl.current.jsonData.addThresholds">
  </gf-form-switch>
  <div class="gf-form max-width-20">
    <span class="gf-form-label width-8">Min severity</span>
    <div class="gf-form-select-wrapper max-width-16">
      <select class="gf-form-input" ng-model="ctrl.current.jsonData.alertingMinSeverity"
        ng-options="s.val as s.text for s in [
          {val: 0, text: 'Not classified'}, {val: 1, text:'Information'},
          {val: 2, text: 'Warning'}, {val: 3, text: 'Average'},
          {val: 4, text: 'High'}, {val: 5, text: 'Disaster'}]">
      </select>
    </div>
  </div>
</div>
